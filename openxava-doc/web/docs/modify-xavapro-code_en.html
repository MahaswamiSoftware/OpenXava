<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Modify XavaPro code</title>
    <link rel="stylesheet" href="static/style.css" type="text/css">
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
      <h1 id="toc0"> <span id="breadcrumbs"> <span id="openxava"> <a href="https://www.openxava.org/">
              <span>o</span>pen<span>x</span>ava </a> </span> / <a href="index_en.html">documentation</a>
          / </span> Modify XavaPro code </h1>
      Enterprise and Corporate edition of XavaPro includes the complete source
      code, so you can modify the XavaPro code to adapt it to your needs, fix a
      bug, add a new feature, etc.<br>
      <div class="wiki" style="display: block;">XavaPro source code is included
        in XavaPro distribution, inside a folder called source-code:</div>
      <img src="files/source-code-folder-xavapro.png" alt=""><br>
      <div class="wiki" style="display: block;">You can modify, build and
        install it using Maven and your favorite IDE. If you're not used to
        Maven, we present here a detailed guide to modify XavaPro code for your
        application using OpenXava Studio.</div>
      <div class="wiki" style="display: block;">
        <h2>Install a JDK 8</h2>
        XavaPro is compiled with Java 8 in order to work with Java 8, 11 and 17.
        You have to install a Java 8 in you computer and configure OpenXava
        Studio to recognized it. </div>
      <div class="wiki" style="display: block;">First, download a JDK 8 and
        install it in your computer. Then in OpenXava Studio open Windows &gt;
        Preferences &gt; Java &gt; Installed JREs. There add the JDK 8 to the
        list of JREs. In this way:</div>
      <img src="files/jdk8-in-eclipse-jres.png" alt="">
      <div class="wiki" style="display: block;">Note that is not need that
        choose it as the default one.<br>
        <h2></h2>
        <h2>Import xavapro into workspace</h2>
        To import the <i>openxava</i> project click on <i>File &gt; Import...</i>:<br>
        <img src="files/file-import-eclipse.png" alt="">
        <p>Now select <i>General &gt; Existing Projects into Workspace</i>:</p>
        <img src="files/import-existing-project-eclipse.png" alt=""><br>
        <p>Choose <i>Existing local repository</i> and click on <i>Next</i>:</p>
        <img src="files/import-step2-eclipse.png" alt="">
        <p>Select the <i>openxava</i> repository and click on <i>Next</i>:</p>
        <img src="files/import-step3-eclipse.png" alt="">
        <p>Select the folder <i>openxava</i> and click on <i>Next</i>:</p>
        <img src="files/import-step4-eclipse.png" alt="">
        <p>Make sure <i>openxava</i> is checked in click on <i>Finish</i>:</p>
        <img src="files/import-step5-eclipse.png" alt="">
        <p>Finally the <i>openxava</i> project with all its code is in your
          workspace:</p>
        <img src="files/openxava-project-in-workspace-eclipse.png" alt="">
        <p>Now you can modify the openxava code at your taste.</p>
        <h2>Modify OpenXava code</h2>
        <p>First, make sure that the version in <i>openxava/pom.xml</i> is a
          SNAPSHOT. Open the <i>pom.xml</i> inside the <i>openxava</i>
          project, and verify the version:</p>
        <img src="files/openxava-pom-snapshot-version-eclipse.png" alt="">
        <p>If you're using the master branch surely the version will be a
          SNAPSHOT, if not modify it adding the -SNAPSHOT suffix. It means that
          is a working version, not with fixed features but ready to be
          modified.</p>
        <p>Now, it's the moment to modify the code. For example, edit the <i>NewAction.java</i>
          code and add a print, like this:</p>
        <img src="files/modifying-new-action.png" alt="">
        <p>Then make a <i>mvn install</i> on <i>openxava</i>, in this way:</p>
        <img src="files/openxava-maven-install-eclipse.png" alt="">
        <p>This time it's not needed to do a <i>mvn clean</i> because we have
          just downloaded the code and <i>target</i> is empty, but if you get
          new code from GitHub (with a pull) you should do a <i>mvn clean</i>
          too.</p>
        <p>Now, go to your project, edit the <i>pom.xml</i> and put the <i>openxava.version</i>
          property to the value of the OpenXava SNAPSHOT version you have in
          your workspace:</p>
        <img src="files/invoicing-pom-update-to-snapshot.png" alt="">
        <p>This is important, otherwise you project will not use the openxava
          you have modified, but the official version from Maven Central.</p>
        <p>Then do a <i>mvn clean</i> on your project:</p>
        <img src="files/invoicing-maven-clean.png" alt="">
        <p>And then a <i>mvn install</i> on your project:</p>
        <img src="files/invoicing-maven-install.png" alt="">
        <p>Congrutalions! Your project is ready to run with your modified
          OpenXava. Try it.</p>
        <h2>Shorten modification cycle</h2>
        <p>The above steps are for the very first modification. From now on, the
          next modifications can be easy, just three steps:</p>
        <ol>
          <li>Modify openxava code.</li>
          <li>Do a mvn install on openxava.</li>
          <li>Do a mvn war:exploded in your project. For this you can use Run As
            &gt; Build Maven ...</li>
        </ol>
        <p>Even more, you can start your application in debug mode, clicking on
          the bug:</p>
        <img src="files/debug-button-eclipse.png" alt="">
        <p>In this way you can modify the code in openxava and see the result
          instantly, even without relaunching your application or reloading the
          browser. Just like magic.</p>
        <h2>Branches</h2>
        <p>In the above example we have modified directly the master branch, not
          a problem at all because you have no rights to do a push against the
          OpenXava repository. However, you can make a more advanced use of
          branches. As a minimum, you should create a branch before doing any
          change and do the change in your own branch. After the change is
          complete and works nicely, you can merge the code with master.</p>
        If you want to contribute code to OpenXava, you should create an account
        in GitHub, then create a clone of the openxava repository in your
        account. Follow the above steps importing the code from your own
        repository instead of from openxava/openxava. In this way, you can
        create a branch, do a push, and create a pull request against the
        original OpenXava repository, where it could be approved and included in
        OpenXava for the next official release.</div>
    </div>
  </body>
</html>
